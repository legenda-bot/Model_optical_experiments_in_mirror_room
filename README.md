# Mirror Room Optical Experiments

Проект для моделирования отражения световых лучей от различных типов зеркал в виртуальной комнате.

## Описание

Приложение позволяет создавать комнаты с зеркальными стенами различных типов и исследовать поведение световых лучей при их отражении. Поддерживаются плоские и сферические (вогнутые/выпуклые) зеркала.

## Функциональность

### Создание комнаты
- **Режим рисования кликом**: Создание комнаты путем последовательного указания вершин
- **Режим правильного многоугольника**: Автоматическое создание комнаты в форме правильного многоугольника (4-9 стен)

### Типы зеркал
- **Плоские зеркала**: Синие стены с классическим отражением
- **Сферические зеркала**:
  - Вогнутые: Красные стены с фокусирующим эффектом
  - Выпуклые: Зеленые стены с рассеивающим эффектом

### Эксперименты с лучами
- Выбор точки старта луча на любой части стены
- Визуальный выбор направления луча с отображением угла
- Трассировка лучей с множественными отражениями
- Реальное время отображения траектории

## Установка и сборка

### Требования
- Qt 6.0 или выше
- C++17 компилятор
- CMake 3.16 или выше

### Сборка
```bash
mkdir build
cd build
cmake ..
make
```

### Запуск
```bash
./MirrorRoomExperiments
```

## Использование

### Создание комнаты
1. Выберите режим создания комнаты в панели управления
2. Для режима "Draw by Click" кликайте на холсте для создания вершин
3. Для замыкания комнаты кликните рядом с первой точкой
4. Минимальное количество стен - 4

### Настройка стен
1. Кликните на любую часть стены для выбора
2. В открывшемся диалоговом окне выберите тип зеркала
3. Для сферических зеркал укажите тип (вогнутое/выпуклое) и радиус кривизны

### Запуск эксперимента
1. Нажмите "Select Start Point on Wall" и выберите точку старта на любой стене
2. Нажмите "Select Angle Visually" и укажите направление луча
3. Или введите угол вручную в спинбоксе (0° - вправо, 90° - вверх)
4. Нажмите "Start Ray Tracing" для запуска моделирования

## Структура проекта

### Основные классы

#### Wall
- Представляет отдельную стену комнаты
- Содержит информацию о типе зеркала и его параметрах
- Обрабатывает отражение лучей

#### MirrorRoom
- Основной виджет для отображения комнаты
- Управляет созданием комнаты и экспериментов
- Обрабатывает пользовательский ввод

#### LightRay
- Моделирует путь светового луча
- Вычисляет отражения от стен
- Визуализирует траекторию луча

#### MainWindow
- Главное окно приложения
- Содержит панель управления и область отображения
- Координирует взаимодействие между компонентами

### Файлы проекта
- `main.cpp` - точка входа в приложение
- `mainwindow.{h,cpp}` - главное окно
- `mirrorroom.{h,cpp}` - виджет комнаты
- `wall.{h,cpp}` - класс стены
- `lightray.{h,cpp}` - класс светового луча
- `walldialog.{h,cpp}` - диалог настройки стены
